name: Deploy to Netlify

on:
  push:
    branches:
      - main  # main 브랜치에 push 될 때만 이 워크플로우를 실행합니다.

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout Repository
        uses: actions/checkout@v4

      - name: Deploy to Netlify
        uses: nwtgck/actions-netlify@v2
        with:
          # (O) 'with:' 블록은 여기서 끝납니다.
          publish-dir: '.'
          # (중요!) 배포할 폴더를 지정합니다.
          # 님처럼 index.html이 루트에 있으면 '.' 입니다.
          # 만약 위에서 'npm run build'를 했다면 'dist' 또는 'build' 폴더입니다
          deploy-message: "${{ github.event.head_commit.message }}"
          # 깃허브 커밋 메시지를 Netlify 배포 메시지로 사용합니다.
        
        env:
          # (O) 'env:' 블록은 'with:'와 같은 레벨에서 새로 시작합니다.
          # (O) 변수 이름도 올바르게 수정되었습니다. (대문자, 밑줄)
          NETLIFY_AUTH_TOKEN: ${{ secrets.NETLIFY_AUTH_TOKEN }}
          NETLIFY_SITE_ID: ${{ secrets.NETLIFY_SITE_ID }}
