name: Deploy to Netlify

on:
   push:
      branches:
         - main  # main 브랜치에 push 될 때만 이 워크플로우를 실행합니다.

jobs:
   build: # 작업은 우분투 환경에서 실행됩니다.
      runs-on: ubuntu-latest
      steps:
         - name: Checkout Repository
           uses: actions/checkout@v4

         - name: Deploy to Netlify
           uses: nwtgck/actions-netlify@v2
           with:
              publish-dir: '.'
              # (중요!) 배포할 폴더를 지정합니다.
              # 님처럼 index.html이 루트에 있으면 '.' 입니다.
              # 만약 위에서 'npm run build'를 했다면 'dist' 또는 'build' 폴더입니다
              
              deploy-message: "${{ github.event.head_commit.message }}"
              # 깃허브 커밋 메시지를 Netlify 배포 메시지로 사용합니다.
              
              netlify-auth-token: ${{ secrets.NETLIFY_AUTH_TOKEN }}
              netlify-site-id: ${{ secrets.NETLIFY_SITE_ID }}
